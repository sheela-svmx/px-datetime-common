<script src="../moment/moment.js"></script>

<script>

/*
  Name:
  pxDatetimeBehavior

  Description:
  blah blah blah

  Dependencies: momentjs

  @polymerBehavior pxDatetimeBehavior

*/

var pxDatetimeBehavior = {

  properties: {

    /**
     * (optional)
     *
     * Set this attribute when you do want to allow future dates in the px-date-panel component.
     * This only affects the visual calendar date picker, users can always type in dates/times or choose times that are in the future.
     *
     * @default false (future dates will be disabled and unclickable in the date-panel)
     */
    allowFutureDates: {
      type: Boolean,
      value: false
    },

    /**
     * (optional)
     *
     * Display configuration that allows optional display patterns
     *
     *
     * @default no presets
     */
    displayOptions: {
      type: Object,
      value: {
        displayType: 'normal',
        submitButtonText: 'Here',
        submitButtonIcon: 'fa-angellist'
      }
    },

    /**
     * (optional)
     *
     * The preset date/times to be displayed.  Defaults to: Today, 7 days Ago, 1 Year Ago
     *
     *```
     *   [
     *    {
     *      "displayText": "5 Minutes Ago",
     *      "dateTime": "2013-02-04T22:44:30.652Z",
     *    },
     *    {
     *      "displayText": "12 Hours Ago",
     *      "dateTime": "2013-02-04T10:44:30.652Z",
     *    }
     *   ]
     * ```
     *
     * @default no presets
     */
    presets: Object,

    /**
     * TODO: Rename datetime or somethign like that
     Range selected in the time picker - as ISO8601 strings
     *
     * Format
     * ```
     * {
     *    "from": "2013-01-07T22:44:30.652Z",
     *    "to" : "2013-02-04T22:44:30.652Z"
     * }
     * ```
     *
     * This is a 2-way data-bindable object which will be changed when the user Submits their new selected range.
     *
     * @default the last week
     */
    // range: {
    //   type: Object,
    //   notify: true,
    //   reflectToAttribute: true, // need both notify & reflectToAttribute for bind-polymer to work
    //   value: function() {
    //     return {
    //       from: moment().subtract(7, 'day').toISOString(),
    //       to: moment().toISOString()
    //     };
    //   }
    // },

    /**
     * A flag that tells us whether the Submit/Apply button is valid, and should be active.
     * @private
     */
    isSubmitButtonValid: {
      type: Boolean,
      value: true,
      notify: true
    },

    /**
     * (optional)
     *
     * By default, the rangepicker will display the time in your browser's timezone.  If you add
     * the is-utc attribute on px-rangepicker, it will display the time as a UTC (GMT timezone) time.
     *
     * @default false
     */
    isUtc: {
      type: Boolean,
      value: false
    }

  }, //properties close bracket

  /**
   * _convertISOtoMoment
   *
   * Takes an ISO 8601 String and return a moment object
   *
   *
   * @private
   */
  _convertISOtoMoment: function(timeString) {
    if(this.isUtc) {
      return moment.utc(timeString, moment.ISO_8601);
    }
    else {
      return moment(timeString, moment.ISO_8601);
    }
  },

}; //pxDatetimeBehavior close bracket



</script>
