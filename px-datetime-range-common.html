<script src="../moment/moment.js"></script>

<script>

/*
  Name:
  pxDatetimeRangeCommon

  Description:
  blah blah blah

  Dependencies:momentjs

  @polymerBehavior pxDatetimeRangeCommon
*/

var pxDatetimeRangeCommon = {

  properties: {

    /**
     * (optional)
     *
     * The preset date/time ranges to be displayed.  Defaults to: Last Day, Last Week, Last Year
     *
     *```
     *   [
     *    {
     *      "displayText": "Last 5 Minutes",
     *      "startDateTime": "2013-02-04T22:44:30.652Z",
     *      "endDateTime": "2013-02-04T22:49:30.652Z"
     *    },
     *    {
     *      "displayText": "Last 12 Hours",
     *      "startDateTime": "2013-02-04T10:44:30.652Z",
     *      "endDateTime": "2013-02-04T22:49:30.652Z"
     *    }
     *   ]
     * ```
     *
     * @default no presets
     */
    presetRanges: Object,

    /**
     * Range selected in the time picker - as ISO8601 strings
     *
     * Format
     * ```
     * {
     *    "from": "2013-01-07T22:44:30.652Z",
     *    "to" : "2013-02-04T22:44:30.652Z"
     * }
     * ```
     *
     * This is a 2-way data-bindable object which will be changed when the user Submits their new selected range.
     *
     * @default the last week
     */
    range: {
      type: Object,
      notify: true,
      reflectToAttribute: true, // need both notify & reflectToAttribute for bind-polymer to work
      value: function() {
        return {
          from: moment().subtract(7, 'day').toISOString(),
          to: moment().toISOString()
        };
      }
    },

    /**
     * Moment object start date & time
     */
    fromMoment: {
      type: Object,
      notify: true
    },

    /**
     * Moment object end date & time
     */
    toMoment: {
      type: Object,
      notify: true
    },

    firstRangeDate: {
      type: Object,
      notify: true
    },
    /**
     * Moment object end date & time
     */
    secondRangeDate: {
      type: Object,
      notify: true
    },

  }, //properties close bracket

  _setRange: function() {
    // set to and from based on inputed range
    this.set('fromMoment', this._convertISOtoMoment(this.range.from));
    this.set('toMoment', this._convertISOtoMoment(this.range.to));
  }
}; //pxRangeCommon close bracket



</script>
